<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //lexicalscope: 함수가 선언되어있는 기준으로 변수의 유효범위를 지정한다.
        let x = 100;
        
        /*
        function f(){
            let x = 10;
            f2();
        }

        function f2(){
            console.log(x);
        }

        f();
        f2();
        */

        //*렉시컬스코프는 함수가 "어디에 정의되었는지"에 따라 변수의 접근 범위가 결정되는 방식을 의미함
        //*렉시컬스코프의 동작방식
        //1) 변수 검색 순서: 함수 내부에서 변수를 사용하려고 할 때, JavaScript 엔진은 다음과 같은 순서로 변수를 찾는다.
        // - 현재 함수 스코프: 먼저 함수 자신의 내부에서 변수를 찾음.
        // - 외부(부모) 함수 스코프: 현재 함수에서 찾지 못하면, 자신신을 감싸고 있는 외부 함수의 스코프에서 변수를 찾음.
        // - 전역 스코프: 최종적으로 전역 스코프까지 가서 변수를 찾음.
        //* 스코프 체인 : 위 순서에 따라 스코프를 탐색할 수 있는 이유는 스코프들이 계층적으로 연결되어 있기 때문이다.
        //              이를 스코프 체인이라고 함.

        //*** 정의 시점의 스코프 기어기 중요한 점은 이 검색 과정이 함수가 '실행되는 위치'가 아니라 '정의될 때'의 주변 스코프를 기준으로 한다는 것임.
        
        /*
        function f(){
            let x = 10;
            f2();
    

        function f2(){
            console.log(x);
            }
        }

        f();
        */

        let globalVar = '전역변수';

        function outerFunction(){
            let outerVar = '외부함수 지역변수';

            return function innerFunction(){
                console.log(globalVar);
                console.log(outerVar);
            }
        }

        const myInnerFunc = outerFunction();

        myInnerFunc();

    </script>
</body>
</html>